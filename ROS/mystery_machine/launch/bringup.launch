<launch>   

    <!-- ARDUINO -->        

    <!-- Rosserial -->
    <arg name="arduino_port" default="/dev/ttyACM0" />
    <node pkg="rosserial_python" type="serial_node.py" name="serial_node"
        args="$(arg arduino_port)" />


    <!-- SENSORS -->

    <!-- Lidar -->
    <arg name="boot_lidar" default="1" />
    <arg name="lidar_port" default="/dev/ttyACM2" />
    <group if="$(arg boot_lidar)">
        <node pkg="hokuyo_node" type="hokuyo_node" name="hokuyo_node" >
            <param name="port" value="$(arg lidar_port)" />
            <param name="frame_id" value="/laser"/>
        </node>
    </group>


    <!-- TRANSFORMS -->

    <!-- Lidar Transform -->
    <node pkg="mystery_machine" type="lidar_tf_publisher"
        name="lidar_tf_publisher" />

    <!-- Sonar Transform -->
    <node pkg="mystery_machine" type="sonar_tf_publisher"
        name="sonar_tf_publisher" />

    <!-- Transformed Sonar Publisher -->
    <node pkg="mystery_machine" type="sonar_transform"
        name="sonar_transform" output="screen" />

</launch>
